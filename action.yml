name: Build
description: Download a zim file, unpack it, convert to website
inputs:
  language-code:
    description: 'the language of the wikimedia property e.g. tr - turkish, en - english'
    required: true
    default: 'en'
  wiki-type:
    description: 'the type of the wikimedia property e.g. wikipedia, wikiquote'
    required: true
    default: 'wikipedia'
  tag:
    description: 'the tag of the wikimedia property e.g. all, top'
    required: true
    default: 'all'
  edition:
    description: 'the edition of the wikimedia property e.g. maxi, mini'
    required: true
    default: 'maxi'
  date:
    description: 'the date of the wikimedia property e.g. latest'
    required: true
    default: 'latest'
  hosting-dns-domain:
    description: 'the DNS domain name the mirror will be hosted at e.g. tr.wikipedia-on-ipfs.org'
    required: false
    default: ''
  hosting-ipns-hash:
    description: 'the IPNS hash the mirror will be hosted at e.g. QmVH1VzGBydSfmNG7rmdDjAeBZ71UVeEahVbNpFQtwZK8W'
    required: false
    default: ''
  main-page-version:
    description: 'an override hack used on Turkish Wikipedia, it sets the main page version as there are issues with the Kiwix version id'
    required: false
    default: ''
outputs:
  time: # id of output
    description: 'The time we greeted you'
runs:
  using: docker
  image: Dockerfile
  args:
    - '--languagecode=${{ inputs.language-code }}'
    - '--wikitype=${{ inputs.wiki-type }}'
    - '--tag=${{ inputs.tag }}'
    - '--edition=${{ inputs.edition }}'
    - '--date=${{ inputs.date }}'
    - '--hostingdnsdomain=${{ inputs.hosting-dns-domain }}'
    - '--hostingipnshash=${{ inputs.hosting-ipns-hash }}'
    - '--mainpageversion=${{ inputs.main-page-version }}'
